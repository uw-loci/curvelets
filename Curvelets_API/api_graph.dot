digraph CurveletsAPI {
  rankdir=LR;
  node [shape=box, style=rounded];

  subgraph cluster_high {
    label="High-level";
    CA[label="CurveAlign.m"];
    CAroi[label="CAroi.m"];
    CAcli[label="CurveAlign_CommandLine.m"];
    Batch[label="batch_curveAlign.m"];
    GUI1[label="CurveAlignVisualization.mlapp"];
    ROIgui[label="ROIbasedDensityCalculation.mlapp"];
  }

  subgraph cluster_mid {
    label="Mid-level";
    PImg[label="processImage.m"];
    PROI[label="processROI.m"];
    PPar[label="processImage_p.m"];
    PCK[label="processImageCK.m"];
    GetCT[label="getCT.m"];
    GetCTroi[label="getCTroi.m"];
    GB[label="getBoundary.m / getTifBoundary.m"];
    DrawMap[label="drawMap.m"];
    DrawCurv[label="drawCurvs.m"];
    Stats[label="makeStatsO.m"];
  }

  subgraph cluster_low {
    label="Low-level";
    NewCurv[label="newCurv.m"];
    NewCurvTT[label="TumorTrace/newCurv.m"];
    CTrec[label="CTrec.m"];
    CTrec1[label="ctFIRE/CTrec_1.m"];
    CTrec1ck[label="ctFIRE/CTrec_1ck.m"];
    CtFeat[label="ctFIRE/ctFeatures.m"];
    FDCT[label="fdct_wrapping / ifdct_wrapping / fdct_wrapping_param\n(from CurveLab)", shape=ellipse];
  }

  // High -> Mid
  CA -> PImg;
  CA -> PROI;
  CAcli -> PImg;
  CAroi -> PROI;
  Batch -> PPar;
  GUI1 -> PImg;
  ROIgui -> PROI;

  // Mid -> Mid/Low
  PImg -> GetCT;
  PImg -> GB;
  PImg -> DrawMap;
  PImg -> DrawCurv;
  PImg -> Stats;

  PROI -> GetCTroi;
  PROI -> GB;
  PROI -> DrawMap;
  PROI -> DrawCurv;
  PROI -> Stats;

  PPar -> GetCT;
  PPar -> GB;
  PPar -> DrawMap;
  PPar -> Stats;

  PCK -> GetCT;

  // Mid -> Low
  GetCT -> NewCurv;
  GetCTroi -> NewCurv;

  // Low -> CurveLab
  NewCurv -> FDCT;
  NewCurvTT -> FDCT;
  CTrec -> FDCT;
  CTrec1 -> FDCT;
  CTrec1ck -> FDCT;
  CtFeat -> FDCT;
}


